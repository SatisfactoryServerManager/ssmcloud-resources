syntax = "proto3";

option go_package = "github.com/SatisfactoryServerManager/ssmcloud-resources/proto/generated";
import "models/empty.proto";

service AgentTaskService {
    rpc GetAgentTasks(SSMEmpty) returns (AgentTaskList);
    rpc MarkAgentTaskCompleted(AgentTaskCompletedRequest) returns (SSMEmpty);
    rpc MarkAgentTaskFailed(AgentTaskFailedRequest) returns (SSMEmpty);
}

message AgentTask {
  string id = 1;
  string action = 2;
  string data = 3;
  bool completed = 4;
  int32 retries = 5;
}

message AgentTaskList {
  repeated AgentTask tasks = 1;
}

message AgentTaskCompletedRequest {
    string id = 1;
}

message AgentTaskFailedRequest {
    string id = 1;
}